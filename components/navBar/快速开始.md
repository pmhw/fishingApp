# navBar 组件快速开始

## 第一步：确保 app.js 已配置

在 `app.js` 中添加 `globalSystemInfo`：

```javascript
App({
  globalData: {
    userInfo: null,
    globalSystemInfo: null // navBar组件需要的全局系统信息
  }
})
```

## 第二步：在页面 json 中引入组件

```json
{
  "navigationStyle": "custom",
  "usingComponents": {
    "nav-bar": "/components/navBar/navBar"
  }
}
```

## 第三步：在页面 wxml 中使用

### 最简单的用法
```xml
<nav-bar title="页面标题" />
```

### 带返回按钮
```xml
<nav-bar 
  title="页面标题"
  back="{{true}}"
  bind:back="onBack"
/>
```

### 带搜索功能（适合首页）
```xml
<nav-bar 
  searchBar="{{true}}"
  searchText="搜索商品、钓场..."
  bind:search="onSearch"
/>
```

### 完整功能（首页推荐）
```xml
<nav-bar 
  searchBar="{{true}}"
  showaw="{{true}}"
  showlogo="{{true}}"
  address="北京市"
  weather="22° 晴天"
  logoImage="/images/logo.png"
  bind:search="onSearch"
  bind:weather="onWeather"
/>
```

## 第四步：在页面 js 中添加事件处理

```javascript
Page({
  onBack() {
    wx.navigateBack()
  },

  onSearch() {
    wx.navigateTo({
      url: '/pages/search/search'
    })
  },

  onWeather() {
    // 处理天气点击
  }
})
```

## 常用配置组合

### 1. 首页导航栏
```xml
<nav-bar 
  searchBar="{{true}}"
  showaw="{{true}}"
  address="{{address}}"
  weather="{{weather}}"
/>
```

### 2. 详情页导航栏
```xml
<nav-bar 
  title="详情"
  back="{{true}}"
  home="{{true}}"
/>
```

### 3. 列表页导航栏
```xml
<nav-bar 
  title="列表"
  back="{{true}}"
/>
```

### 4. 深色主题导航栏
```xml
<nav-bar 
  title="页面标题"
  background="#333333"
  color="#ffffff"
  iconTheme="white"
/>
```

## 注意事项

1. ✅ 必须设置 `navigationStyle: "custom"`
2. ✅ 组件路径：`/components/navBar/navBar`
3. ✅ 组件会自动适配状态栏高度
4. ✅ 布尔值属性需要用 `{{}}` 包裹
