# Pages 页面说明文档

本文档记录小程序中所有页面的功能、用途和主要特性。

---

## 📱 页面列表

### 1. **首页** (`pages/home/home`)

**路径**: `pages/home/home`  
**导航栏标题**: 首页  
**导航栏样式**: 自定义导航栏

#### 功能描述
小程序的主页面，包含以下功能模块：

- **自定义导航栏**
  - 搜索栏
  - 地区选择器
  - 天气显示
  - 排行榜入口

- **轮播图区域**
  - 支持普通轮播图和排行榜轮播图
  - 自动轮播，可手动切换
  - 排行榜轮播图显示本周垂钓排行榜

- **天气信息卡片**（玻璃雾化效果）
  - 温度、天气类型显示
  - 气压、湿度、风速、风向、能见度
  - 根据天气类型显示动态背景效果：
    - 晴天：光晕 + 粒子动画
    - 雨天：雨滴下落动画
    - 多云：云朵移动动画
    - 雪天：雪花飘落动画

- **功能入口网格**
  - 钓场、商城、住宿、餐饮、装备、活动、社区、更多
  - 点击可跳转到对应页面

- **热门商品推荐**
  - 横向滑动展示
  - 自动轮播
  - 点击"更多"跳转到商城页面

- **附近住宿推荐**
  - 列表展示
  - 显示评分、距离、价格、标签
  - 点击"更多"跳转到住宿列表页面

- **优质钓场推荐**
  - 列表展示
  - 显示评分、距离、标签（WiFi、停车场、卫生间）
  - 电话和导航功能
  - 点击"更多"跳转到钓场列表页面

#### 主要文件
- `home.wxml` - 页面结构
- `home.wxss` - 页面样式（包含玻璃雾化效果和动态动画）
- `home.js` - 页面逻辑（天气数据、轮播图、功能跳转）
- `home.json` - 页面配置（自定义导航栏）

#### 跳转关系
- 功能入口 → 各功能页面
- "更多"按钮 → 对应列表页面
- 卡片点击 → 对应列表页面

---

### 2. **附近钓场** (`pages/nearby/nearby`)

**路径**: `pages/nearby/nearby`  
**导航栏标题**: 附近钓场  
**TabBar**: 是（第二个 Tab）

#### 功能描述
显示附近钓场列表，提供定位和导航功能：

- **顶部定位区域**
  - 定位按钮（点击获取当前位置）
  - 定位状态显示

- **钓场列表**
  - 卡片式展示
  - 显示钓场图片、名称、评分
  - 显示距离、地址
  - 标签展示（WiFi、停车场、卫生间）
  - 价格显示
  - 电话和导航按钮

#### 主要文件
- `nearby.wxml` - 页面结构
- `nearby.wxss` - 页面样式
- `nearby.js` - 页面逻辑（定位、筛选、导航）
- `nearby.json` - 页面配置

#### 功能特性
- 获取用户当前位置
- 显示钓场距离
- 拨打电话功能
- 地图导航功能

---

### 3. **会员码** (`pages/member-code/member-code`)

**路径**: `pages/member-code/member-code`  
**导航栏标题**: 会员码  
**TabBar**: 是（第三个 Tab）

#### 功能描述
显示会员二维码和相关会员信息：

- **会员码卡片**
  - 二维码展示
  - 刷新按钮
  - 会员折扣信息
  - 服务开通提示

- **底部链接**
  - 我的行程
  - 常见问题

#### 主要文件
- `member-code.wxml` - 页面结构
- `member-code.wxss` - 页面样式（紫色主题）
- `member-code.js` - 页面逻辑（二维码生成、刷新）
- `member-code.json` - 页面配置

#### 功能特性
- 二维码生成和展示
- 二维码刷新功能
- 会员信息展示

---

### 4. **垂钓记录** (`pages/records/records`)

**路径**: `pages/records/records`  
**导航栏标题**: 垂钓记录  
**TabBar**: 是（第四个 Tab）

#### 功能描述
记录用户的垂钓历史记录：

- **记录列表**
  - 垂钓时间、地点
  - 渔获信息
  - 记录详情

#### 主要文件
- `records.wxml` - 页面结构
- `records.wxss` - 页面样式
- `records.js` - 页面逻辑（记录管理）
- `records.json` - 页面配置

---

### 5. **个人中心** (`pages/profile/profile`)

**路径**: `pages/profile/profile`  
**导航栏标题**: 个人中心  
**TabBar**: 是（第五个 Tab）

#### 功能描述
用户个人信息和功能入口：

- **用户信息区域**
  - 头像、昵称
  - 登录状态管理

- **快速操作**
  - 我的订单
  - 我的收藏
  - 我的优惠券

- **资产信息**
  - 余额、积分等

- **功能入口**
  - 订单管理
  - 地址管理
  - 设置等

- **登录组件**
  - 未登录状态提示
  - 登录弹窗

#### 主要文件
- `profile.wxml` - 页面结构
- `profile.wxss` - 页面样式（POP MART 风格）
- `profile.js` - 页面逻辑（用户信息、登录）
- `profile.json` - 页面配置

#### 使用的组件
- `components/login-modal` - 登录弹窗组件

---

### 6. **商城** (`pages/shop/shop`)

**路径**: `pages/shop/shop`  
**导航栏标题**: 商城

#### 功能描述
商品展示和购买页面，采用左右分栏布局：

- **左侧分类栏**
  - 商品分类列表（推荐、鱼竿、鱼线、鱼饵、浮漂、钓箱/椅、配件）
  - 可上下滑动
  - 选中状态高亮显示

- **右侧商品展示区**
  - 两列网格布局
  - 商品卡片包含：
    - 商品图片
    - 商品名称（2行截断）
    - 商品描述（2行截断）
    - 价格（红色突出）
    - 标签（推荐、热卖等）
  - 可上下滑动

#### 主要文件
- `shop.wxml` - 页面结构（左右分栏布局）
- `shop.wxss` - 页面样式
- `shop.js` - 页面逻辑（分类切换、商品筛选）
- `shop.json` - 页面配置

#### 功能特性
- 分类切换
- 商品筛选
- 商品点击跳转到商品详情页

#### 跳转入口
- 首页功能入口 → 商城
- 首页"热门商品"更多按钮 → 商城

#### 跳转关系
- 商品卡片点击 → 商品详情页面

---

### 7. **商品详情** (`pages/product-detail/product-detail`)

**路径**: `pages/product-detail/product-detail`  
**导航栏标题**: 商品详情

#### 功能描述
商品购买详情页面，展示商品完整信息和购买功能：

- **商品图片轮播**
  - 支持多图滑动展示
  - 指示器显示当前图片位置

- **商品基本信息**
  - 价格显示（现价和原价）
  - 商品名称和副标题
  - 商品标签（推荐、热卖、包邮等）

- **规格选择**
  - 规格选择入口（如规格、颜色等）
  - 规格选择弹窗（底部弹出）
  - 多规格组合选择
  - 选中状态高亮显示

- **数量选择**
  - 数量增减按钮（- / +）
  - 数量输入框
  - 数量限制（1-99）

- **商品详情**
  - 商品描述信息
  - 详细说明文字

- **底部操作栏**（固定底部）
  - 客服按钮
  - 购物车按钮
  - 加入购物车按钮（橙色）
  - 立即购买按钮（紫色渐变）

#### 主要文件
- `product-detail.wxml` - 页面结构（包含规格选择弹窗）
- `product-detail.wxss` - 页面样式
- `product-detail.js` - 页面逻辑（规格选择、数量控制、购买流程）
- `product-detail.json` - 页面配置

#### 功能特性
- 商品图片轮播展示
- 规格选择（支持多规格组合）
- 数量控制（1-99范围）
- 加入购物车（验证规格后添加）
- 立即购买（验证规格后跳转订单，预留）
- 联系客服（预留）
- 底部固定操作栏（适配安全区域）

#### 跳转入口
- 商城页面商品卡片点击 → 商品详情页面（带商品ID参数）

#### 页面参数
- `id` 或 `productId` - 商品ID，用于加载对应商品信息

---

### 8. **住宿列表** (`pages/hotel/hotel`)

**路径**: `pages/hotel/hotel`  
**导航栏标题**: 附近住宿

#### 功能描述
显示附近住宿列表，提供搜索和筛选功能：

- **顶部搜索栏**
  - 搜索住宿名称、地址
  - 实时搜索过滤

- **筛选栏**
  - 智能排序
  - 价格筛选
  - 距离筛选

- **住宿列表**
  - 卡片式展示
  - 大图展示（360rpx）
  - 评分徽章（右上角）
  - 名称、距离、地址
  - 标签（WiFi、停车场、早餐等）
  - 价格显示（¥/晚）
  - 电话和导航按钮

#### 主要文件
- `hotel.wxml` - 页面结构
- `hotel.wxss` - 页面样式（蓝色主题）
- `hotel.js` - 页面逻辑（搜索、筛选、导航）
- `hotel.json` - 页面配置

#### 功能特性
- 搜索功能
- 筛选功能（预留）
- 拨打电话
- 地图导航
- 空状态提示

#### 跳转入口
- 首页功能入口 → 住宿
- 首页"附近住宿"更多按钮 → 住宿列表
- 首页住宿卡片点击 → 住宿列表

---

### 9. **钓场列表** (`pages/spots/spots`)

**路径**: `pages/spots/spots`  
**导航栏标题**: 钓场列表

#### 功能描述
显示钓场列表，提供搜索和筛选功能：

- **顶部搜索栏**
  - 搜索钓场名称、地址
  - 实时搜索过滤

- **筛选栏**
  - 智能排序
  - 价格筛选
  - 距离筛选

- **钓场列表**
  - 卡片式展示
  - 大图展示（360rpx）
  - 评分徽章（右上角）
  - 距离徽章（左下角）
  - 名称、地址
  - 标签（WiFi、停车场、卫生间、餐饮）
  - 价格显示
  - 电话和导航按钮

#### 主要文件
- `spots.wxml` - 页面结构
- `spots.wxss` - 页面样式（紫色主题）
- `spots.js` - 页面逻辑（搜索、筛选、导航）
- `spots.json` - 页面配置

#### 功能特性
- 搜索功能
- 筛选功能（预留）
- 拨打电话
- 地图导航
- 空状态提示

#### 跳转入口
- 首页功能入口 → 钓场
- 首页"优质钓场推荐"更多按钮 → 钓场列表
- 首页钓场卡片点击 → 钓场列表

---

## 📋 页面文件结构说明

每个页面通常包含以下文件：

```
pages/
  └── [page-name]/
      ├── [page-name].js      # 页面逻辑文件
      ├── [page-name].wxml    # 页面结构文件
      ├── [page-name].wxss    # 页面样式文件
      └── [page-name].json    # 页面配置文件
```

### 文件说明

- **`.js`** - JavaScript 逻辑文件
  - 页面数据定义
  - 生命周期函数
  - 事件处理函数
  - API 调用

- **`.wxml`** - 页面结构文件
  - HTML 结构
  - 数据绑定
  - 事件绑定
  - 组件使用

- **`.wxss`** - 页面样式文件
  - CSS 样式定义
  - 响应式布局
  - 动画效果

- **`.json`** - 页面配置文件
  - 导航栏配置
  - 组件引用
  - 页面配置选项

---

## 🔗 页面跳转关系图

```
首页 (home)
  ├── 功能入口
  │   ├── 钓场 → 钓场列表 (spots)
  │   ├── 商城 → 商城 (shop)
  │   ├── 住宿 → 住宿列表 (hotel)
  │   └── 其他 → 提示"开发中"
  │
  ├── 热门商品"更多" → 商城 (shop)
  ├── 附近住宿"更多" → 住宿列表 (hotel)
  └── 优质钓场"更多" → 钓场列表 (spots)

商城 (shop)
  └── 商品卡片点击 → 商品详情 (product-detail)

TabBar 页面
  ├── 首页 (home)
  ├── 附近钓场 (nearby)
  ├── 会员码 (member-code)
  ├── 垂钓记录 (records)
  └── 个人中心 (profile)
```

---

## 📝 开发注意事项

1. **页面宽度**: 所有页面使用 `width: 100%` 和 `box-sizing: border-box` 确保撑满屏幕
2. **导航栏**: 首页使用自定义导航栏，其他页面使用默认导航栏
3. **TabBar**: 5个主要页面在 TabBar 中，其他页面通过导航跳转
4. **组件复用**: 登录组件 (`login-modal`) 在个人中心页面使用
5. **样式主题**: 
   - 紫色主题：首页、钓场相关页面
   - 蓝色主题：住宿页面
   - 其他页面根据功能定制

---

## 🔄 更新日志

- **2026-02-08**: 创建页面说明文档
- **2026-02-08**: 添加商城、住宿、钓场列表页面
- **2026-02-08**: 修复页面宽度问题，统一使用 100% 宽度
- **2026-02-08**: 添加商品详情页面，包含规格选择、数量控制、购买功能

---

**最后更新**: 2026-02-08
