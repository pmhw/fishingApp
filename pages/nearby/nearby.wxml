<!--pages/nearby/nearby.wxml-->
<view class="container">
  <!-- é¡¶éƒ¨åŒºåŸŸ -->
  <view class="header">
    <view class="header-left">
      <view class="location-btn" bindtap="getLocation">
        <text class="location-icon">ğŸ“</text>
      </view>
      <view class="header-info">
        <text class="header-title">é™„è¿‘é’“åœº</text>
        <text class="location-tip" wx:if="{{currentLocation}}">å·²å®šä½</text>
        <text class="location-tip" wx:else>ç‚¹å‡»å®šä½</text>
      </view>
    </view>
  </view>

  <!-- é’“åœºåˆ—è¡¨ -->
  <view class="spot-list">
    <view 
      class="spot-item" 
      wx:for="{{fishingSpots}}" 
      wx:key="id"
      bindtap="onSpotTap"
      data-spot="{{item}}"
    >
      <view class="spot-image">
        <text class="image-placeholder">ğŸ£</text>
      </view>
      <view class="spot-info">
        <view class="spot-header">
          <text class="spot-name">{{item.name}}</text>
          <view class="spot-rating">
            <text class="rating-star">â­</text>
            <text class="rating-value">{{item.rating}}</text>
          </view>
        </view>
        <text class="spot-distance">ğŸ“ è·ç¦» {{item.distance}}</text>
        <text class="spot-address">{{item.address}}</text>
        
        <!-- æ ‡ç­¾ -->
        <view class="spot-tags">
          <view class="tag-item" wx:if="{{item.hasWifi}}">
            <text class="tag-icon">ğŸ“¶</text>
            <text class="tag-text">WiFi</text>
          </view>
          <view class="tag-item" wx:if="{{item.hasParking}}">
            <text class="tag-icon">ğŸ…¿ï¸</text>
            <text class="tag-text">åœè½¦åœº</text>
          </view>
          <view class="tag-item" wx:if="{{item.hasToilet}}">
            <text class="tag-icon">ğŸš»</text>
            <text class="tag-text">å«ç”Ÿé—´</text>
          </view>
        </view>
        
        <!-- æ“ä½œæŒ‰é’® -->
        <view class="spot-actions">
          <view class="action-btn phone-btn" bindtap="onCallPhone" data-phone="{{item.phone}}" catchtap="true">
            <text class="btn-icon">ğŸ“</text>
            <text class="btn-text">ç”µè¯</text>
          </view>
          <view class="action-btn navigate-btn" bindtap="onNavigate" data-spot="{{item}}" catchtap="true">
            <text class="btn-icon">ğŸ§­</text>
            <text class="btn-text">å¯¼èˆª</text>
          </view>
          <text class="spot-price">{{item.price}}</text>
        </view>
      </view>
    </view>
  </view>
</view>
